<div class="context-menu" *ngIf="state === 'add-controller' ">
    <mat-form-field *ngIf="searchType !== 'Package'">
        <input matInput placeholder="Filter" [(ngModel)]="searchValue" (ngModelChange)="onValueChange()">
    </mat-form-field>
    <app-autocomplete class="autocomplete" *ngIf="searchType === 'Package'" name="Choose a package" [values]="packages"
        [(value)]="package" (valueChange)="onPackageChange($event)">
    </app-autocomplete>
    <mat-form-field class="search-type">
        <mat-select [(ngModel)]="searchType" (ngModelChange)="onValueChange()">
            <mat-select-trigger>
                <mat-icon class="icon-search-small">{{iconMapping[searchType]}}</mat-icon>{{searchType}}
            </mat-select-trigger>
            <mat-option *ngFor="let type of searchTypes" [value]="type">
                <mat-icon>{{ iconMapping[type] }}</mat-icon>{{type}}
            </mat-option>
        </mat-select>
    </mat-form-field>
    <mat-list class="scrollable-list">
        <mat-list-item *ngFor="let data of filterData">
            <div class="list-item-content">
                <span class="left-content">
                    {{(searchType === "Package") ? data.name : data.package+':'+data.name}}
                </span>
                <button mat-icon-button (click)="add(data)" class="right-content">
                    <mat-icon>add_circle_outline</mat-icon>
                </button>
            </div>
        </mat-list-item>
    </mat-list>
</div>
<div class="context-menu" *ngIf="state === 'edit-controller' ">
    <p *ngIf="!selectedNode">Select a controller</p>
    <div *ngIf="selectedNode" class="node-content">
        <p>Description : {{selectedNode.description}}</p>
        <mat-form-field class="icon-choice">
            <mat-label>Change the icon</mat-label>
            <mat-select [(ngModel)]="chosenIcon">
                <mat-select-trigger>
                    <mat-icon class="icon-search-small">{{chosenIcon}}</mat-icon>
                </mat-select-trigger>
                <mat-option *ngFor="let icon of icons" [value]="icon">
                    <mat-icon>{{icon}}</mat-icon>
                </mat-option>
            </mat-select>
        </mat-form-field>
        <mat-form-field class="color-choice">
            <mat-label>Change the color</mat-label>
            <mat-select [(ngModel)]="chosenColor">
                <mat-select-trigger>
                    <p>{{ chosenColor }}</p>
                </mat-select-trigger>
                <mat-option *ngFor="let color of colors" [value]="color">
                    <p [style.color]="color">{{ color }}</p>
                </mat-option>
            </mat-select>
        </mat-form-field>
        <button mat-flat-button (click)="save()">Change</button>
    </div>
</div>